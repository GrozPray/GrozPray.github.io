<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrozPray - –ó–∏–∫—Ä—ã</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Open+Sans:wght@400;600&display=swap">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/dhikr.css">
    <style>
        /* –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ */
        .main-content {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        .main-content.loaded {
            opacity: 1;
            transform: translateY(0);
        }
        .dhikr-list {
            transition: opacity 0.3s ease;
        }
        .dhikr-item {
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
        }
        .category-btn {
            transition: all 0.2s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>GrozPray</h1>
            <p class="slogan">–í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø–æ–∫–ª–æ–Ω–µ–Ω–∏–∏</p>
        </header>
        
        <nav>
            <a href="index.html">üïã –ù–∞–º–∞–∑</a>
            <a href="quran.html">üìñ –ö–æ—Ä–∞–Ω</a>
            <a href="dhikr.html" class="active">üìø –ó–∏–∫—Ä—ã</a>
            <a href="settings.html">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
        </nav>

        <main class="main-content" id="main-content">
            <section class="card">
                <div class="dhikr-categories">
                    <button class="category-btn active" data-category="morning">–£—Ç—Ä–µ–Ω–Ω–∏–µ</button>
                    <button class="category-btn" data-category="evening">–í–µ—á–µ—Ä–Ω–∏–µ</button>
                    <button class="category-btn" data-category="after-prayer">–ü–æ—Å–ª–µ –Ω–∞–º–∞–∑–∞</button>
                    <button class="category-btn" data-category="sleep">–ü–µ—Ä–µ–¥ —Å–Ω–æ–º</button>
                </div>

                <div class="dhikr-list" id="dhikr-list">
                    <!-- –ó–∏–∫—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                </div>
            </section>
        </main>

        <footer>
            <p>¬© 2024 GrozPray | –°–¥–µ–ª–∞–Ω–æ –¥–ª—è –º—É—Å—É–ª—å–º–∞–Ω</p>
        </footer>
    </div>

    <script>
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∏–∫—Ä–æ–≤
        const dhikrData = {
            "morning": [
                {
                    "id": "morning-1",
                    "arabic": "ÿ£ŸéÿµŸíÿ®Ÿéÿ≠ŸíŸÜŸéÿß ŸàŸéÿ£ŸéÿµŸíÿ®Ÿéÿ≠Ÿé ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸÑŸêŸÑŸéŸëŸáŸê",
                    "translit": "–ê—Å–±–∞—Ö–Ω–∞ –≤–∞ –∞—Å–±–∞—Ö–∞–ª—å-–º—É–ª—å–∫—É –ª–∏–ª–ª—è—Ö",
                    "meaning": "–ú—ã –¥–æ–∂–∏–ª–∏ –¥–æ —É—Ç—Ä–∞, –∏ –≤–ª–∞—Å—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ê–ª–ª–∞—Ö—É"
                },
                {
                    "id": "morning-2",
                    "arabic": "ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê ŸàŸéÿ®Ÿêÿ≠ŸéŸÖŸíÿØŸêŸáŸê",
                    "translit": "–°—É–±—Ö–∞–Ω–∞–ª–ª–∞—Ö–∏ –≤–∞ –±–∏—Ö–∞–º–¥–∏—Ö",
                    "meaning": "–ü—Ä–µ—Å–ª–∞–≤–µ–Ω –ê–ª–ª–∞—Ö –∏ —Ö–≤–∞–ª–∞ –ï–º—É"
                }
            ],
            "evening": [
                {
                    "id": "evening-1",
                    "arabic": "ÿ£ŸéŸÖŸíÿ≥ŸéŸäŸíŸÜŸéÿß ŸàŸéÿ£ŸéŸÖŸíÿ≥ŸéŸâ ÿßŸÑŸíŸÖŸèŸÑŸíŸÉŸè ŸÑŸêŸÑŸéŸëŸáŸê",
                    "translit": "–ê–º—Å–∞–π–Ω–∞ –≤–∞ –∞–º—Å–∞–ª—å-–º—É–ª—å–∫—É –ª–∏–ª–ª—è—Ö",
                    "meaning": "–ú—ã –¥–æ–∂–∏–ª–∏ –¥–æ –≤–µ—á–µ—Ä–∞, –∏ –≤–ª–∞—Å—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ê–ª–ª–∞—Ö—É"
                }
            ],
            "after-prayer": [
                {
                    "id": "after-1",
                    "arabic": "ÿ£Ÿéÿ≥Ÿíÿ™Ÿéÿ∫ŸíŸÅŸêÿ±Ÿè ÿßŸÑŸÑŸéŸëŸáŸé",
                    "translit": "–ê—Å—Ç–∞–≥—Ñ–∏—Ä—É–ª–ª–∞—Ö",
                    "meaning": "–ü—Ä–æ—à—É –ø—Ä–æ—â–µ–Ω–∏—è —É –ê–ª–ª–∞—Ö–∞"
                }
            ],
            "sleep": [
                {
                    "id": "sleep-1",
                    "arabic": "ÿ®Ÿêÿßÿ≥ŸíŸÖŸêŸÉŸé ÿ±Ÿéÿ®ŸêŸëŸä ŸàŸéÿ∂ŸéÿπŸíÿ™Ÿè ÿ¨ŸéŸÜŸíÿ®ŸêŸä",
                    "translit": "–ë–∏—Å–º–∏–∫–∞ —Ä–∞–±–±–∏ –≤–∞–¥–∞'—Ç—É –¥–∂–∞–Ω–±–∏",
                    "meaning": "–ò–º–µ–Ω–µ–º –¢–≤–æ–∏–º, –ì–æ—Å–ø–æ–¥–∏, —è –ª–æ–∂—É—Å—å"
                }
            ]
        };

        // –£–ª—É—á—à–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∏–∫—Ä–æ–≤ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
        function loadDhikr(category) {
            const dhikrList = document.getElementById('dhikr-list');
            
            // –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
            dhikrList.style.opacity = 0;
            
            setTimeout(() => {
                dhikrList.innerHTML = '';
                
                dhikrData[category].forEach((dhikr, index) => {
                    const dhikrItem = document.createElement('div');
                    dhikrItem.className = 'dhikr-item';
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∏–∑ localStorage
                    const savedCount = localStorage.getItem(dhikr.id) || 0;
                    
                    dhikrItem.innerHTML = `
                        <div class="dhikr-arabic" dir="rtl" lang="ar">${dhikr.arabic}</div>
                        <div class="dhikr-translit">${dhikr.translit}</div>
                        <div class="dhikr-meaning">${dhikr.meaning}</div>
                        <div class="counter">
                            <button class="counter-btn minus">‚àí</button>
                            <span class="count">${savedCount}</span>
                            <button class="counter-btn plus">+</button>
                            <span class="times">—Ä–∞–∑</span>
                        </div>
                    `;
                    
                    dhikrList.appendChild(dhikrItem);
                    
                    // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                    setTimeout(() => {
                        dhikrItem.style.opacity = 1;
                        dhikrItem.style.transform = 'translateY(0)';
                    }, 100 * index);
                });
                
                dhikrList.style.opacity = 1;
                initCounters();
            }, 300);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
        function initCounters() {
            document.querySelectorAll('.counter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const counter = this.parentElement.querySelector('.count');
                    let count = parseInt(counter.textContent);
                    
                    if (this.classList.contains('plus')) {
                        count++;
                    } else if (count > 0) {
                        count--;
                    }
                    
                    counter.textContent = count;
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                    const dhikrId = this.closest('.dhikr-item').querySelector('.dhikr-arabic').textContent.trim();
                    const storageKey = Object.values(dhikrData)
                        .flat()
                        .find(d => d.arabic === dhikrId)?.id;
                    
                    if (storageKey) {
                        localStorage.setItem(storageKey, count);
                    }
                });
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                loadDhikr(this.dataset.category);
            });
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', () => {
            document.getElementById('main-content').classList.add('loaded');
            loadDhikr('morning');
        });
    </script>
</body>
</html>
