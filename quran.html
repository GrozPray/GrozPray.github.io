<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrozPray ‚Äì –ö–æ—Ä–∞–Ω</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Open+Sans:wght@400;600&display=swap">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìñ –ö–æ—Ä–∞–Ω</h1>
            <p>–ß—Ç–µ–Ω–∏–µ –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ</p>
        </header>
        
        <nav>
            <a href="index.html">üïã –ù–∞–º–∞–∑</a>
            <a href="quran.html" class="active">üìñ –ö–æ—Ä–∞–Ω</a>
            <a href="dhikr.html">üìø –ó–∏–∫—Ä—ã</a>
        </nav>

        <main>
            <section class="card">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å—É—Ä—É</h2>
                <div class="surahs-list" id="surahs-list">
                    <!-- –°—é–¥–∞ –∑–∞–≥—Ä—É–∑–∏–º —Å–ø–∏—Å–æ–∫ —Å—É—Ä -->
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>
            </section>

            <section class="card" id="ayahs-section" style="display: none;">
                <h2 id="surah-name">–°—É—Ä–∞ –ê–ª—å-–§–∞—Ç–∏—Ö–∞</h2>
                <div class="ayahs-container" id="ayahs-container">
                    <!-- –°—é–¥–∞ –∑–∞–≥—Ä—É–∑–∏–º –∞—è—Ç—ã -->
                </div>
                <audio controls id="audio-player"></audio>
                <button onclick="goBack()">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</button>
            </section>
        </main>

        <footer>
            <p>–ò—Å—Ç–æ—á–Ω–∏–∫: <a href="https://quran.com" target="_blank">Quran.com API</a></p>
        </footer>
    </div>

    <script>
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—É—Ä
        fetch('https://api.quran.com/api/v4/chapters?language=ru')
            .then(response => response.json())
            .then(data => {
                const surahs = data.chapters;
                let html = '';
                surahs.forEach(surah => {
                    html += `
                        <div class="surah-item" onclick="loadSurah(${surah.id})">
                            <span class="surah-number">${surah.id}.</span>
                            <span class="surah-name">${surah.name_arabic} (${surah.name_simple})</span>
                            <span class="surah-verse">${surah.verses_count} –∞—è—Ç–æ–≤</span>
                        </div>
                    `;
                });
                document.getElementById('surahs-list').innerHTML = html;
            });

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∞—è—Ç—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—É—Ä—ã
        function loadSurah(surahId) {
            fetch(`https://api.quran.com/api/v4/verses/by_chapter/${surahId}?language=ru&words=true`)
                .then(response => response.json())
                .then(data => {
                    const ayahs = data.verses;
                    let html = '';
                    ayahs.forEach(ayah => {
                        html += `
                            <div class="ayah">
                                <p class="arabic" dir="rtl" lang="ar">${ayah.text_uthmani}</p>
                                <p class="translation">${ayah.translations[0].text}</p>
                            </div>
                        `;
                    });
                    document.getElementById('ayahs-container').innerHTML = html;
                    document.getElementById('surah-name').textContent = `–°—É—Ä–∞ ${data.chapter.name_simple}`;
                    document.getElementById('surahs-list').style.display = 'none';
                    document.getElementById('ayahs-section').style.display = 'block';
                });
        }

        function goBack() {
            document.getElementById('surahs-list').style.display = 'block';
            document.getElementById('ayahs-section').style.display = 'none';
        }
    </script>
</body>
</html>
