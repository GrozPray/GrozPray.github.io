<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrozPray - –ü–æ–ª–Ω—ã–π –ö–æ—Ä–∞–Ω</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/quran.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="https://via.placeholder.com/50x50/2E8B57/FFFFFF?text=GP" alt="–õ–æ–≥–æ" class="logo-img">
                <h1>GrozPray</h1>
            </div>
            <p class="slogan">–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ö–æ—Ä–∞–Ω–∞</p>
        </header>
        
        <nav>
            <a href="index.html">üïã –ù–∞–º–∞–∑</a>
            <a href="quran.html" class="active">üìñ –ö–æ—Ä–∞–Ω</a>
            <a href="dhikr.html">üìø –ó–∏–∫—Ä—ã</a>
        </nav>

        <main>
            <section class="card">
                <div class="quick-nav">
                    <label for="sura-select">–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥:</label>
                    <select id="sura-select" onchange="scrollToSura(this.value)">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É—Ä—É...</option>
                        <!-- –û–ø—Ü–∏–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </select>
                </div>

                <div id="full-quran">
                    <!-- –í–µ—Å—å –ö–æ—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∑–¥–µ—Å—å -->
                    <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞ –ö–æ—Ä–∞–Ω–∞...</div>
                </div>
            </section>
        </main>

        <footer>
            <p>¬© 2024 GrozPray | –ò—Å—Ç–æ—á–Ω–∏–∫: Tanzil.net</p>
        </footer>
    </div>

    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ–≥–æ –ö–æ—Ä–∞–Ω–∞
        async function loadFullQuran() {
            try {
                const response = await fetch('quran-text.json'); // –õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å —Ç–µ–∫—Å—Ç–æ–º
                const data = await response.json();
                
                let html = '';
                const select = document.getElementById('sura-select');
                
                data.suras.forEach(sura => {
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ select
                    select.innerHTML += `<option value="sura-${sura.number}">${sura.number}. ${sura.name} (${sura.arabicName})</option>`;
                    
                    // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å—É—Ä—ã
                    html += `
                        <div class="sura" id="sura-${sura.number}">
                            <h2 class="sura-title">
                                <span class="sura-num">${sura.number}.</span>
                                <span class="sura-name-arabic">${sura.arabicName}</span>
                                <span class="sura-name">${sura.name}</span>
                            </h2>
                            <div class="sura-text">
                                ${sura.ayats.map(ayat => `
                                    <div class="ayat">
                                        <span class="ayat-num">${ayat.number}.</span>
                                        <p class="arabic" dir="rtl" lang="ar">${ayat.text}</p>
                                        <p class="translation">${ayat.translation}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                });
                
                document.getElementById('full-quran').innerHTML = html;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                document.getElementById('full-quran').innerHTML = '<p class="error">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ö–æ—Ä–∞–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</p>';
            }
        }

        // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—É—Ä–µ
        function scrollToSura(suraId) {
            if (!suraId) return;
            const element = document.getElementById(suraId);
            element.scrollIntoView({ behavior: 'smooth' });
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = loadFullQuran;
    </script>
</body>
</html>
