<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrozPray - –í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ –≤ –ì—Ä–æ–∑–Ω–æ–º</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Open+Sans:wght@400;600&display=swap">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/index.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="https://via.placeholder.com/50x50/2E8B57/FFFFFF?text=GP" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo-img">
                <h1>GrozPray</h1>
            </div>
            <p class="slogan">–í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø–æ–∫–ª–æ–Ω–µ–Ω–∏–∏</p>
        </header>
        
        <nav>
            <a href="index.html" class="active">üïã –ù–∞–º–∞–∑</a>
            <a href="quran.html">üìñ –ö–æ—Ä–∞–Ω</a>
            <a href="dhikr.html">üìø –ó–∏–∫—Ä—ã</a>
        </nav>

        <main>
            <section class="card">
                <h2>‚è≥ –í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ - –ì—Ä–æ–∑–Ω—ã–π</h2>
                <div class="prayer-grid" id="prayer-times-container">
                    <div class="prayer-item">
                        <span class="prayer-name">–§–∞–¥–∂—Ä</span>
                        <span class="prayer-time" id="fajr">--:--</span>
                    </div>
                    <div class="prayer-item">
                        <span class="prayer-name">–í–æ—Å—Ö–æ–¥</span>
                        <span class="prayer-time" id="sunrise">--:--</span>
                    </div>
                    <div class="prayer-item">
                        <span class="prayer-name">–ó—É—Ö—Ä</span>
                        <span class="prayer-time" id="dhuhr">--:--</span>
                    </div>
                    <div class="prayer-item">
                        <span class="prayer-name">–ê—Å—Ä</span>
                        <span class="prayer-time" id="asr">--:--</span>
                    </div>
                    <div class="prayer-item">
                        <span class="prayer-name">–ú–∞–≥—Ä–∏–±</span>
                        <span class="prayer-time" id="maghrib">--:--</span>
                    </div>
                    <div class="prayer-item">
                        <span class="prayer-name">–ò—à–∞</span>
                        <span class="prayer-time" id="isha">--:--</span>
                    </div>
                </div>
            </section>

            <section class="card">
                <h2>üåô –ê—è—Ç –¥–Ω—è</h2>
                <div class="ayah-text" dir="rtl" lang="ar">ŸàŸéÿ∞ŸéŸÉŸéÿ±Ÿé Ÿ±ÿ≥ŸíŸÖŸé ÿ±Ÿéÿ®ŸêŸëŸáŸê€¶ ŸÅŸéÿµŸéŸÑŸéŸëŸâŸ∞</div>
                <p class="translation">"–û–Ω –ø–æ–º—è–Ω—É–ª –∏–º—è –ì–æ—Å–ø–æ–¥–∞ —Å–≤–æ–µ–≥–æ –∏ –ø–æ–º–æ–ª–∏–ª—Å—è." (–ö–æ—Ä–∞–Ω, 87:15)</p>
            </section>
        </main>

        <footer>
            <p>¬© 2024 GrozPray | –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –º—É—Å—É–ª—å–º–∞–Ω</p>
        </footer>
    </div>

    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞
        fetch('https://api.aladhan.com/v1/timingsByCity?city=Grozny&country=Russia&method=2')
            .then(response => response.json())
            .then(data => {
                const timings = data.data.timings;
                document.getElementById('fajr').textContent = timings.Fajr;
                document.getElementById('sunrise').textContent = timings.Sunrise;
                document.getElementById('dhuhr').textContent = timings.Dhuhr;
                document.getElementById('asr').textContent = timings.Asr;
                document.getElementById('maghrib').textContent = timings.Maghrib;
                document.getElementById('isha').textContent = timings.Isha;
            });
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
setInterval(() => {
    const now = new Date();
    const currentTime = now.getHours() + ':' + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–º–∞–∑–∞
    const prayerTimes = {
        fajr: document.getElementById('fajr').textContent,
        dhuhr: document.getElementById('dhuhr').textContent,
        asr: document.getElementById('asr').textContent,
        maghrib: document.getElementById('maghrib').textContent,
        isha: document.getElementById('isha').textContent
    };

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –Ω–∞–º–∞–∑
    for (const [prayer, time] of Object.entries(prayerTimes)) {
        if (time === currentTime) {
            showNotification(prayer);
        }
    }
}, 60000); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

function showNotification(prayerName) {
    const prayerNames = {
        fajr: '–§–∞–¥–∂—Ä',
        dhuhr: '–ó—É—Ö—Ä',
        asr: '–ê—Å—Ä',
        maghrib: '–ú–∞–≥—Ä–∏–±',
        isha: '–ò—à–∞'
    };

    // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    if (Notification.permission === 'granted') {
        new Notification(`–í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ ${prayerNames[prayerName]}!`, {
            body: '–ù–∞—Å—Ç—É–ø–∏–ª–æ –≤—Ä–µ–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–∞–º–∞–∑–∞',
            icon: 'https://via.placeholder.com/64/2E8B57/FFFFFF?text=üïå'
        });
    } else if (Notification.permission !== 'denied') {
        Notification.requestPermission().then(permission => {
            if (permission === 'granted') {
                new Notification(`–í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞ ${prayerNames[prayerName]}!`);
            }
        });
    }

    // –î—É–±–ª–∏—Ä—É–µ–º –∑–≤—É–∫–æ–º
    const audio = new Audio('https://www.soundjay.com/buttons/sounds/button-09.mp3');
    audio.play();
    
    // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
    document.getElementById(prayerName).parentElement.style.background = '#FFEB3B';
    setTimeout(() => {
        document.getElementById(prayerName).parentElement.style.background = '';
    }, 10000);
}
    </script>
</body>
</html>
